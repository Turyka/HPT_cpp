public class Connection {

    private static final String URL_INSERT_NOTE = "http://10.0.2.2/notes_app/insertNotesData.php";
    // A többi URL marad változatlan (register, login, stb.)

    public String saveNote(String title, String notes) {
        try {
            URL url = new URL(URL_INSERT_NOTE);
            HttpURLConnection conn = (HttpURLConnection) url.openConnection();
            conn.setRequestMethod("POST");
            conn.setRequestProperty("Content-Type", "application/x-www-form-urlencoded");
            conn.setConnectTimeout(5000);
            conn.setReadTimeout(5000);
            conn.setDoOutput(true);

            String urlParameters = "title=" + title + "&notes=" + notes;

            DataOutputStream out = new DataOutputStream(conn.getOutputStream());
            out.writeBytes(urlParameters);
            out.flush();
            out.close();

            int responseCode = conn.getResponseCode();
            if (responseCode == HttpURLConnection.HTTP_OK) {

                BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));
                StringBuilder response = new StringBuilder();
                String line;

                while ((line = in.readLine()) != null) {
                    response.append(line);
                }

                in.close();
                return response.toString();
            } else {
                System.out.println("HTTP POST FAILED, CODE = " + responseCode);
            }

        } catch (Exception e) {
            throw new RuntimeException(e);
        }

        return "false";
    }
}
